{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block head %}
  {{ super() }}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.4.0/animate.css">
  <style>
    html, body {
      background-color: black;
      font-family: sf;
      font-size: 24px;
      line-height: 50px;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }

    body > div {
        /*height: 100%;*/
        overflow: scroll;
        -webkit-overflow-scrolling: touch;
    }
    a {
      text-decoration: none;
      color: white;
      -webkit-transition: font 0.5s ease; /* Safari */
      transition: font 0.5s ease;
    }

    .selected {
      font-size: 48px;
      line-height: 50px;
      -webkit-transition: font 0.5s ease; /* Safari */
      transition: font 0.5s ease;
    }

    .item {
      height: 70px;
      /*margin: 5px 0;*/
    }
  </style>
{% endblock %}
{% block body %}
  {{ super() }}
  <div class="menu-group animated bounceInDown">
    <div class="item selected" id="scr">
      <a href="/screensaver" >Tetris Screensaver</a>
    </div>
    <div class="item" id="quo">
      <a href="/quotes" >Quotes</a>
    </div>
    <div class="item" id="cal">
      <a href="/calendar" >Calendar</a>
    </div>
    <div class="item" id="clk">
      <a href="/clock" >Clock</a>
    </div>
    <div class="item" id="map">
      <a href="/map" >Map</a>
    </div>
    <div class="item" id="gm" >
      <a href="/goodmorning" >Goodmorning</a>
    </div>
    <div class="item" id="help">
      <a href="/help" >Help</a>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  {{ super() }}
  <script>
    var sections = ["scr", "quo", "cal", "clk", "map", "gm", "help"];
    var selection = 0;
    var count = 0;
    var delta = 100;
    $(function(){
      $(document).on('mousewheel', function(event){
        // console.log(event.deltaX, event.deltaY, event.deltaFactor);

        count += event.deltaY;

        if (count >= 0) {
          count = 0;
        }

        if (count <= -(sections.length - 1)*100) {
          count = -(sections.length - 1)*100
        }
        var s = Math.abs(parseInt(count / 100))

        if (s !== selection) {
          // change classes. All for
          $('#'+sections[s]).addClass("selected")
          // console.log(s, $('#'+sections[s]))
          for (var i = 0; i < sections.length; i++) {
            if(i !== s) {
              $('#'+sections[i]).removeClass("selected")
            }
          }
          selection = s
        }
        // console.log(count);
      });

      $(document).on('click', function(event){
        console.log(sections[selection]);
        $(".menu-group").removeClass("bounceInDown");
        $(".menu-group").addClass("bounceOutUp");
        setTimeout(function(){
          $("#"+sections[selection]+" a")[0].click()
        },400);


      });
    });
  </script>
{% endblock %}
